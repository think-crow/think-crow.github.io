---
title: 域名配置
date: 2025-01-03T01:10:21+08:00
tags: 
series: 
featured: false
---
关于域名使用的一些经历！

<!--more-->

## 1、选取域名

最好选用国外域名服务器注册，比国内好点：

> 国内一些域名注册商通常以这一点为手段，卡住用户，比如限制你只能使用它的域名服务器，然后再限制你最多只能设置 10 项 A 记录或 MX 记录等，多了要另外收费，这种规矩实在是很扯淡；[原文](https://yihui.org/cn/2009/06/how-to-build-a-website-as-a-dummy/)

（主要是九月份，要给github上托管的hugo网站设置另一个域名，发现备案没服务器还不行，也没有其它方案，给自己气的真想骂爹！）

且，国内域名注册只能设置两个A记录，配置github pages时需要设置4个！（[godaddy](https://www.godaddy.com/)注册的域名已测试过，最少可设置4个。但还没正式投入使用，具体使用效果见下回分析，但仅这点就给自己印象加分不少。）

关于国内域名只能设置两个A记录的解决方案：

我采用的是配置子域名的方式，相当于重定向

- 添加两个CNAME的@和www记录，指向GitHub pages生成的域名。（设置完不会立即生效，这点你要注意，说的是一天，但可能是三四天！）



没有服务器，域名使用的两个解决方案：

- 在国外网站注册，无需备案（我用的是[godaddy](https://www.godaddy.com/)）。
- 已有服务器的话，可以分配备案码（叫啥给忘了，暂时就叫它吧），拿着这个备案码也可以备案。

## 2、GitHub pages域名配置

详情：[参考本文](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site)

配置子域名：

1. 网站根目录添加一个CNAME文件，文件里面写上你的域名，例如：2029.today
2. 到域名注册商的控制台添加两个CNAME的@和www记录，指向GitHub pages生成的域名。

配置顶级域：

1. 网站根目录添加一个CNAME文件，文件里面写上你的域名，例如：2029.today

2. 创建`A`记录，请将您的顶级域指向 GitHub Pages 的 IP 地址。

   ```shell
   185.199.108.153
   185.199.109.153
   185.199.110.153
   185.199.111.153
   ```

## 3、个人网站域名配置

假如你有服务器，可参考以下配置：

1. 到域名注册商的控制台添加两个A记录（@和www记录）指向服务器的IP地址。（现在的服务器IP地址想要直接ping通需要设置一下）
2. 设置https（证书在域名注册商（腾讯）申请的，时效三个月。使用nginx代理（很简单，包含命令指向证书文件即可））

### 知识点补充

1. 什么是顶级域名、二级域名、子域名！

   例如：blog.haoshuang.org

   最后一个点右边的部分.org属于顶级域名，点左边的haoshuang属于二级域名，再左边的blog属于三级域名，依次类推。

2. 设置DNS解析记录（把域名和服务器链接起来的一个操作）。

   | **记录类型**  | **功能**                             | **示例**                                                     |
   | ------------- | ------------------------------------ | ------------------------------------------------------------ |
   | **A记录**     | 将域名解析到 IPv4 地址               | 就是域名指向服务器的ip地址                                   |
   | **www记录**   | 将域名指向子域名                     | 常见主机记录，将域名解析为  www.2029.today                   |
   | **@记录**     | 指向当前域的根域名                   | 直接解析主域名 2029.today                                    |
   | **AAAA记录**  | 将域名解析到 IPv6 地址               | `example.com -> 2001:db8::1`                                 |
   | **CNAME记录** | 将域名指向另一个域名                 | `blog.example.com -> www.example.com`                        |
   | **TXT记录**   | 添加文本信息，用于验证或其他附加用途 | `v=spf1 include:secureserver.net -all`（例如这个是启用ren@haoshuang.org邮箱所需要添加的记录。） |

